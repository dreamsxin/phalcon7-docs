<!DOCTYPE html>

<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Class Phalcon\Security\Random &mdash; Phalcon7 1.3.2 文档</title>
    <meta name="keywords" content="php, phalcon, phalcon7, phalcon php, php framework, faster php framework">
    <link rel="stylesheet" type="text/css" href="../static/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../static/phalcon.css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script src="../static/jquery.min.js"></script>
    <link rel="shortcut icon" href="../static/img/favicon.ico"/>
    <link rel="top" title="Phalcon7 1.3.2 文档" href="../index.html" /> 
</head>
<body>

<header class="page-header">
<nav class="navbar" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-container">
				<span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
			</button>
			<a class="navbar-brand phalcon-logo" href="/"><span itemprop="name" class="sr-only">Phalcon PHP</span></a>
		</div>

		<div class="collapse navbar-collapse navbar-right" id="main-menu-container">
			<ul class="nav navbar-nav main-menu">
			  <li class="first"><a href="https://github.com/dreamsxin/cphalcon7" class="header-nav-link">GitHub</a></li>
			  <li class="first"><a href="https://github.com/dreamsxin/cphalcon7/releases" class="header-nav-link">Download</a></li>
			  <li class="first"><a href="/api/" class="header-nav-link">API</a></li>
			  <li class="first"><a href="/internals/" class="header-nav-link">内核开发手册</a></li>
			</ul>
		</div>
	</div>
</nav>
</header>

<div class="heading">
    <div class="container">
        <div class="row">
            <h2>Documentation</h2>
        </div>
    </div>
</div>


<div class="container-fluid">
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li><a href="http://myleftstudio.com">Home</a> &raquo;</li>
        <li><a href="../index.html">Phalcon7 1.3.2 文档</a> &raquo;</li> 
      </ul>
    </div>  
</div>

<div class="container-fluid">
	<div class="col-md-3 primary-box">
		<div class="panel panel-default">
			<div class="panel-heading"><a href="../index.html">內容目录</a></div>
			<div class="panel-body"><ul>
<li><a class="reference internal" href="#">Class <strong>Phalcon\Security\Random</strong></a><ul>
<li><a class="reference internal" href="#constants">Constants</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</div>
		</div>
	</div>
  <div class="col-md-9 second-box" valign="top">
	<div class="document">
		<div class="documentwrapper">
		  <div class="bodywrapper">
			<div class="body" >
			  
  <div class="section" id="class-phalcon-security-random">
<h1>Class <strong>Phalcon\Security\Random</strong><a class="headerlink" href="#class-phalcon-security-random" title="永久链接至标题">¶</a></h1>
<p><em>extends</em> abstract class <a class="reference internal" href="Phalcon_Di_Injectable.html"><em>Phalcon\Di\Injectable</em></a></p>
<p><em>implements</em> <a class="reference internal" href="Phalcon_Events_EventsAwareInterface.html"><em>Phalcon\Events\EventsAwareInterface</em></a>, <a class="reference internal" href="Phalcon_Di_InjectionAwareInterface.html"><em>Phalcon\Di\InjectionAwareInterface</em></a></p>
<p><span class="raw-html"><a href="https://github.com/dreamsxin/cphalcon7/blob/master/ext/security/random.c" class="btn btn-default btn-sm">Source on GitHub</a></span></p>
<p>Secure random number generator class.  Provides secure random number generator which is suitable for generating session key in HTTP cookies, etc.  It supports following secure random number generators:  - libsodium - openssl - /dev/urandom  A <cite>Phalcon\Security\Random</cite> could be mainly useful for:  - Key generation (e.g. generation of complicated keys) - Creating random passwords for new user accounts - Encryption systems</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">  </span><span class="cp">&lt;?php</span>

    <span class="nv">$random</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Phalcon\Security\Random</span><span class="p">();</span>

    <span class="c1">// Random binary string</span>
    <span class="nv">$bytes</span> <span class="o">=</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">bytes</span><span class="p">();</span>

    <span class="c1">// Random hex string</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">hex</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// a29f470508d5ccb8e289</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">hex</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// 533c2f08d5eee750e64a</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">hex</span><span class="p">(</span><span class="mi">11</span><span class="p">);</span> <span class="c1">// f362ef96cb9ffef150c9cd</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">hex</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// 95469d667475125208be45c4</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">hex</span><span class="p">(</span><span class="mi">13</span><span class="p">);</span> <span class="c1">// 05475e8af4a34f8f743ab48761</span>

    <span class="c1">// Random base64 string</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// XfIN81jGGuKkcE1E</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// 3rcq39QzGK9fUqh8</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64</span><span class="p">();</span>   <span class="c1">// DRcfbngL/iOo9hGGvy1TcQ==</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span> <span class="c1">// SvdhPcIHDZFad838Bb0Swg==</span>

    <span class="c1">// Random URL-safe base64 string</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64Safe</span><span class="p">();</span>           <span class="c1">// PcV6jGbJ6vfVw7hfKIFDGA</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64Safe</span><span class="p">();</span>           <span class="c1">// GD8JojhzSTrqX7Q8J6uug</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64Safe</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>          <span class="c1">// mGyy0evy3ok</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64Safe</span><span class="p">(</span><span class="k">null</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span> <span class="c1">// DRrAgOFkS4rvRiVHFefcQ==</span>

    <span class="c1">// Random UUID</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">uuid</span><span class="p">();</span> <span class="c1">// db082997-2572-4e2c-a046-5eefe97b1235</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">uuid</span><span class="p">();</span> <span class="c1">// da2aa0e2-b4d0-4e3c-99f5-f5ef62c57fe2</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">uuid</span><span class="p">();</span> <span class="c1">// 75e6b628-c562-4117-bb76-61c4153455a9</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">uuid</span><span class="p">();</span> <span class="c1">// dc446df1-0848-4d05-b501-4af3c220c13d</span>

    <span class="c1">// Random number between 0 and $len</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">number</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span> <span class="c1">// 84</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">number</span><span class="p">(</span><span class="mi">256</span><span class="p">);</span> <span class="c1">// 79</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">number</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span> <span class="c1">// 29</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">number</span><span class="p">(</span><span class="mi">300</span><span class="p">);</span> <span class="c1">// 40</span>

    <span class="c1">// Random base58 string</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base58</span><span class="p">();</span>   <span class="c1">// 4kUgL2pdQMSCQtjE</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base58</span><span class="p">();</span>   <span class="c1">// Umjxqf7ZPwh765yR</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base58</span><span class="p">(</span><span class="mi">24</span><span class="p">);</span> <span class="c1">// qoXcgmw4A9dys26HaNEdCRj9</span>
    <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base58</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>  <span class="c1">// 774SJD3vgP</span>

<span class="k">This</span> <span class="k">class</span> <span class="nc">partially</span> <span class="nx">borrows</span> <span class="nx">SecureRandom</span> <span class="nx">library</span> <span class="nx">from</span> <span class="nx">Ruby</span>
</pre></div>
</div>
<div class="section" id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="永久链接至标题">¶</a></h2>
<p><em>integer</em> <strong>COLOR_RGB</strong></p>
<p><em>integer</em> <strong>COLOR_RGBA</strong></p>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="永久链接至标题">¶</a></h2>
<p>public  <strong>bytes</strong> ([<em>unknown</em> $len])</p>
<p>Generates a random binary string If $len is not specified, 16 is assumed. It may be larger in future. The result may contain any byte: &#8220;x00&#8221; - &#8220;xFF&#8221;.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

  <span class="nv">$random</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Phalcon\Security\Random</span><span class="p">();</span>

  <span class="nv">$bytes</span> <span class="o">=</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">bytes</span><span class="p">();</span>
</pre></div>
</div>
<p>public  <strong>hex</strong> ([<em>unknown</em> $len])</p>
<p>Generates a random hex string If $len is not specified, 16 is assumed. It may be larger in future. The length of the result string is usually greater of $len.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

  <span class="nv">$random</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Phalcon\Security\Random</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">hex</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// a29f470508d5ccb8e289</span>
</pre></div>
</div>
<p>public  <strong>base58</strong> ([<em>unknown</em> $len])</p>
<p>Generates a random base58 string If $len is not specified, 16 is assumed. It may be larger in future. The result may contain alphanumeric characters except 0, O, I and l. It is similar to Base64 but has been modified to avoid both non-alphanumeric characters and letters which might look ambiguous when printed.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

  <span class="nv">$random</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Phalcon\Security\Random</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base58</span><span class="p">();</span> <span class="c1">// 4kUgL2pdQMSCQtjE</span>
</pre></div>
</div>
<p>public  <strong>base64</strong> ([<em>unknown</em> $len])</p>
<p>Generates a random base64 string If $len is not specified, 16 is assumed. It may be larger in future. The length of the result string is usually greater of $len. Size formula: 4 <a href="#id1"><span class="problematic" id="id2">*</span></a>( $len / 3) and this need to be rounded up to a multiple of 4.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

  <span class="nv">$random</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Phalcon\Security\Random</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// 3rcq39QzGK9fUqh8</span>
</pre></div>
</div>
<p>public  <strong>base64Safe</strong> ([<em>unknown</em> $len], [<em>unknown</em> $padding])</p>
<p>Generates a random URL-safe base64 string If $len is not specified, 16 is assumed. It may be larger in future. The length of the result string is usually greater of $len. By default, padding is not generated because &#8220;=&#8221; may be used as a URL delimiter. The result may contain A-Z, a-z, 0-9, &#8220;-&#8221; and &#8220;_&#8221;. &#8220;=&#8221; is also used if $padding is true. See RFC 3548 for the definition of URL-safe base64.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

  <span class="nv">$random</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Phalcon\Security\Random</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">base64Safe</span><span class="p">();</span> <span class="c1">// GD8JojhzSTrqX7Q8J6uug</span>
</pre></div>
</div>
<p>public  <strong>uuid</strong> ()</p>
<p>Generates a v4 random UUID (Universally Unique IDentifier) The version 4 UUID is purely random (except the version). It doesn&#8217;t contain meaningful information such as MAC address, time, etc. See RFC 4122 for details of UUID. This algorithm sets the version number (4 bits) as well as two reserved bits. All other bits (the remaining 122 bits) are set using a random or pseudorandom data source. Version 4 UUIDs have the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx where x is any hexadecimal digit and y is one of 8, 9, A, or B (e.g., f47ac10b-58cc-4372-a567-0e02b2c3d479).</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

  <span class="nv">$random</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Phalcon\Security\Random</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">uuid</span><span class="p">();</span> <span class="c1">// 1378c906-64bb-4f81-a8d6-4ae1bfcdec22</span>
</pre></div>
</div>
<p>public  <strong>number</strong> (<em>unknown</em> $len)</p>
<p>Generates a random number between 0 and $len Returns an integer: 0 &lt;= result &lt;= $len.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

  <span class="nv">$random</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Phalcon\Security\Random</span><span class="p">();</span>

  <span class="k">echo</span> <span class="nv">$random</span><span class="o">-&gt;</span><span class="na">number</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span> <span class="c1">// 8</span>
</pre></div>
</div>
<p>public  <strong>setDI</strong> (<a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a> $dependencyInjector) inherited from Phalcon\Di\Injectable</p>
<p>Sets the dependency injector</p>
<p>public <a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a>  <strong>getDI</strong> ([<em>unknown</em> $error], [<em>unknown</em> $notUseDefault]) inherited from Phalcon\Di\Injectable</p>
<p>Returns the internal dependency injector</p>
<p>public  <strong>setEventsManager</strong> (<a class="reference internal" href="Phalcon_Events_ManagerInterface.html"><em>Phalcon\Events\ManagerInterface</em></a> $eventsManager) inherited from Phalcon\Di\Injectable</p>
<p>Sets the event manager</p>
<p>public <a class="reference internal" href="Phalcon_Events_ManagerInterface.html"><em>Phalcon\Events\ManagerInterface</em></a>  <strong>getEventsManager</strong> () inherited from Phalcon\Di\Injectable</p>
<p>Returns the internal event manager</p>
<p>public <em>boolean</em>  <strong>fireEvent</strong> (<em>string</em> $eventName, [<em>mixed</em> $data], [<em>unknown</em> $cancelable]) inherited from Phalcon\Di\Injectable</p>
<p>Fires an event, implicitly calls behaviors and listeners in the events manager are notified</p>
<p>public <em>mixed</em>  <strong>fireEventCancel</strong> (<em>string</em> $eventName, [<em>mixed</em> $data], [<em>unknown</em> $cancelable]) inherited from Phalcon\Di\Injectable</p>
<p>Fires an event, can stop the event by returning to the false</p>
<p>public <em>boolean</em>  <strong>hasService</strong> (<em>string</em> $name) inherited from Phalcon\Di\Injectable</p>
<p>Check whether the DI contains a service by a name</p>
<p>public <a class="reference internal" href="Phalcon_Di_ServiceInterface.html"><em>Phalcon\Di\ServiceInterface</em></a>  <strong>setService</strong> (<em>unknown</em> $name) inherited from Phalcon\Di\Injectable</p>
<p>Sets a service from the DI</p>
<p>public <em>object|null</em>  <strong>getService</strong> (<em>unknown</em> $name) inherited from Phalcon\Di\Injectable</p>
<p>Obtains a service from the DI</p>
<p>public <em>mixed</em>  <strong>getResolveService</strong> (<em>string</em> $name, [<em>array</em> $args], [<em>unknown</em> $noerror], [<em>unknown</em> $noshared]) inherited from Phalcon\Di\Injectable</p>
<p>Resolves the service based on its configuration</p>
<p>public  <strong>attachEvent</strong> (<em>string</em> $eventType, <em>Closure</em> $callback) inherited from Phalcon\Di\Injectable</p>
<p>Attach a listener to the events</p>
<p>public  <strong>__get</strong> (<em>unknown</em> $property) inherited from Phalcon\Di\Injectable</p>
<p>Magic method __get</p>
<p>public  <strong>__sleep</strong> () inherited from Phalcon\Di\Injectable</p>
<p>...</p>
<p>public  <strong>__debugInfo</strong> () inherited from Phalcon\Di\Injectable</p>
<p>...</p>
</div>
</div>


			</div>
		  </div>
		</div>
	</div>
  </div>
</div>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="总目录"
             >索引</a></li> 
      </ul>
    </div>

<footer class="footer">
	<div class="container">
      <div class="row">
          <div class="col-xs-6 col-sm-3">
              <h4>Download</h4>
              <ul>
                  <li><a href="https://github.com/dreamsxin/cphalcon7/releases">安裝 Phalcon7</a></li>
              </ul>
          </div>
          <div class="col-xs-6 col-sm-3">
              <h4>Community</h4>
              <ul>
                  <li><a href="https://github.com/dreamsxin/cphalcon7">GitHub</a></li>
                  <li><a href="https://github.com/dreamsxin/cphalcon7/issues">Issue Tracker</a></li>
              </ul>
          </div>
          <div class="col-xs-6 col-sm-2">
              <h4>About</h4>
              <ul>
                  <li><a href="https://github.com/dreamsxin/cphalcon/wiki/%E6%8D%90%E8%B5%A0%EF%BC%88Donation%EF%BC%89">Donate</a></li>
              </ul>
          </div>
          <div id="license-spaccer" class="visible-xs"></div>
          <div id="license-wrapper" class="col-xs-12 col-sm-4">
              <p class="license">

                  Phalcon7 Framework is released under the <a href="https://github.com/dreamsxin/cphalcon7/blob/master/docs/LICENSE.md">new BSD license</a>.<br>
                  Except where otherwise noted, content on this site is licensed under the
                  <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License.</a>
              </p>
              <div class="design">
                  <span>Designed by:</span>

                  <a href="http://www.fog-city.net/" class="fogcity" target="_blank" title="Fog City Software"><span>Fog City Software</span></a>
              </div>
          </div>
      </div>
	</div>
</footer>
</body>
</html>